"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.animateDraw = void 0;
const motion_1 = require("motion");
const index_js_1 = require("../easing/index.js");
const animateDraw = (props) => {
    const { element, duration, delay, isEntering = true } = props;
    if (!(element instanceof SVGPathElement)) {
        throw new Error('ARWES animateDraw() requires a SVGPathElement.');
    }
    const length = element.getTotalLength();
    const easingCustom = typeof props.easing === 'string' ? index_js_1.easing[props.easing] : props.easing;
    element.style.strokeDashoffset = String(isEntering ? length : 0);
    element.style.strokeDasharray = String(length);
    const animation = (0, motion_1.animate)(element, { strokeDashoffset: isEntering ? [length, 0] : [0, length] }, { duration, delay, easing: easingCustom || (isEntering ? index_js_1.easing.outExpo : index_js_1.easing.outSine) });
    if (isEntering) {
        void animation.finished.then(() => {
            element.style.strokeDashoffset = '';
            element.style.strokeDasharray = '';
        });
    }
    return animation;
};
exports.animateDraw = animateDraw;
