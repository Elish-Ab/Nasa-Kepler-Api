import { animate } from 'motion';
import { easing } from '../easing/index.js';
const animateDraw = (props) => {
    const { element, duration, delay, isEntering = true } = props;
    if (!(element instanceof SVGPathElement)) {
        throw new Error('ARWES animateDraw() requires a SVGPathElement.');
    }
    const length = element.getTotalLength();
    const easingCustom = typeof props.easing === 'string' ? easing[props.easing] : props.easing;
    element.style.strokeDashoffset = String(isEntering ? length : 0);
    element.style.strokeDasharray = String(length);
    const animation = animate(element, { strokeDashoffset: isEntering ? [length, 0] : [0, length] }, { duration, delay, easing: easingCustom || (isEntering ? easing.outExpo : easing.outSine) });
    if (isEntering) {
        void animation.finished.then(() => {
            element.style.strokeDashoffset = '';
            element.style.strokeDasharray = '';
        });
    }
    return animation;
};
export { animateDraw };
