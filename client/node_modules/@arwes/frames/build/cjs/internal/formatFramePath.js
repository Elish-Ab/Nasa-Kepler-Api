"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.formatFramePath = void 0;
const formatFrameDimension_js_1 = require("./formatFrameDimension.js");
const formatCommand = (width, height, command) => {
    if (Array.isArray(command)) {
        const [name, ...dimensions] = command;
        if (name === 'H' || name === 'h') {
            return `${name} ${(0, formatFrameDimension_js_1.formatFrameDimension)(width, dimensions[0])}`;
        }
        if (name === 'V' || name === 'v') {
            return `${name} ${(0, formatFrameDimension_js_1.formatFrameDimension)(height, dimensions[0])}`;
        }
        if (name === 'A' || name === 'a') {
            const [rx, ry, angle, largeArcFlag, sweepFlag, x, y] = dimensions;
            const values = [
                (0, formatFrameDimension_js_1.formatFrameDimension)(width, rx),
                (0, formatFrameDimension_js_1.formatFrameDimension)(height, ry),
                angle,
                largeArcFlag,
                sweepFlag,
                (0, formatFrameDimension_js_1.formatFrameDimension)(width, x),
                (0, formatFrameDimension_js_1.formatFrameDimension)(height, y)
            ].join(',');
            return name + ' ' + values;
        }
        const values = dimensions
            .map((dimension, index) => {
            const isEven = index % 2 === 0;
            const size = isEven ? width : height;
            return (0, formatFrameDimension_js_1.formatFrameDimension)(size, dimension);
        })
            .join(',');
        return name + ' ' + values;
    }
    return command;
};
const formatFramePath = (width, height, path) => {
    return path.map((command) => formatCommand(width, height, command)).join(' ');
};
exports.formatFramePath = formatFramePath;
