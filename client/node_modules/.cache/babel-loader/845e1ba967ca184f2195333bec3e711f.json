{"ast":null,"code":"import { filterProps } from '@arwes/tools';\nimport { createAnimation, easeAmong } from '@arwes/animated';\nimport { walkTextNodes } from '../internal/walkTextNodes/index.js';\nimport { setTextNodesContent } from '../internal/setTextNodesContent/index.js';\nconst animateTextSequence = props => {\n  const {\n    rootElement,\n    contentElement,\n    duration,\n    easing = 'linear',\n    blink = true,\n    blinkDuration = 0.1,\n    isEntering = true,\n    hideOnExited = true,\n    hideOnEntered\n  } = filterProps(props);\n  if (!rootElement || !contentElement) {\n    throw new Error('ARWES animateTextSequence() requires valid DOM elements.');\n  }\n  let blinkElement;\n  let blinkAnimation;\n  const cloneElement = contentElement.cloneNode(true);\n  Object.assign(cloneElement.style, {\n    position: 'absolute',\n    inset: 0,\n    visibility: 'visible',\n    opacity: 1\n  });\n  if (blink) {\n    blinkElement = document.createElement('span');\n    blinkElement.classList.add('arwes-text__blink');\n    blinkElement.innerHTML = '&#9614;';\n    Object.assign(blinkElement.style, {\n      position: 'relative',\n      display: 'inline-block',\n      width: 0,\n      height: 0,\n      lineHeight: '0',\n      color: 'inherit'\n    });\n  }\n  const textNodes = [];\n  const texts = [];\n  walkTextNodes(cloneElement, child => {\n    textNodes.push(child);\n    texts.push(child.textContent || '');\n    if (isEntering) {\n      child.textContent = '';\n    }\n  });\n  const length = texts.join('').length;\n  rootElement.appendChild(cloneElement);\n  contentElement.style.visibility = 'hidden';\n  if (blink && blinkElement) {\n    const blinkAnimationEaseColor = easeAmong([0, 1, 2]);\n    const blinkAnimationColors = ['transparent', 'inherit', 'transparent'];\n    blinkAnimation = createAnimation({\n      duration: blinkDuration,\n      easing: 'linear',\n      repeat: Infinity,\n      onUpdate(progress) {\n        const index = Math.round(blinkAnimationEaseColor(progress));\n        blinkElement.style.color = blinkAnimationColors[index];\n      }\n    });\n  }\n  return createAnimation({\n    duration,\n    easing,\n    direction: isEntering ? 'normal' : 'reverse',\n    onUpdate: progress => {\n      const newLength = Math.round(progress * length);\n      setTextNodesContent(textNodes, texts, newLength, textNode => {\n        if (blinkElement && textNode.parentNode && textNode.parentNode !== blinkElement.parentNode) {\n          textNode.parentNode.appendChild(blinkElement);\n        }\n      });\n    },\n    onFinish: () => {\n      contentElement.style.visibility = isEntering && hideOnEntered || !isEntering && hideOnExited ? 'hidden' : '';\n      cloneElement.remove();\n      blinkAnimation?.cancel();\n    },\n    onCancel: () => {\n      contentElement.style.visibility = '';\n      cloneElement.remove();\n      blinkAnimation?.cancel();\n    }\n  });\n};\nexport { animateTextSequence };","map":{"version":3,"names":["filterProps","createAnimation","easeAmong","walkTextNodes","setTextNodesContent","animateTextSequence","props","rootElement","contentElement","duration","easing","blink","blinkDuration","isEntering","hideOnExited","hideOnEntered","Error","blinkElement","blinkAnimation","cloneElement","cloneNode","Object","assign","style","position","inset","visibility","opacity","document","createElement","classList","add","innerHTML","display","width","height","lineHeight","color","textNodes","texts","child","push","textContent","length","join","appendChild","blinkAnimationEaseColor","blinkAnimationColors","repeat","Infinity","onUpdate","progress","index","Math","round","direction","newLength","textNode","parentNode","onFinish","remove","cancel","onCancel"],"sources":["/home/elisha-a/Nasa/client/node_modules/@arwes/text/build/esm/animateTextSequence/animateTextSequence.js"],"sourcesContent":["import { filterProps } from '@arwes/tools';\nimport { createAnimation, easeAmong } from '@arwes/animated';\nimport { walkTextNodes } from '../internal/walkTextNodes/index.js';\nimport { setTextNodesContent } from '../internal/setTextNodesContent/index.js';\nconst animateTextSequence = (props) => {\n    const { rootElement, contentElement, duration, easing = 'linear', blink = true, blinkDuration = 0.1, isEntering = true, hideOnExited = true, hideOnEntered } = filterProps(props);\n    if (!rootElement || !contentElement) {\n        throw new Error('ARWES animateTextSequence() requires valid DOM elements.');\n    }\n    let blinkElement;\n    let blinkAnimation;\n    const cloneElement = contentElement.cloneNode(true);\n    Object.assign(cloneElement.style, {\n        position: 'absolute',\n        inset: 0,\n        visibility: 'visible',\n        opacity: 1\n    });\n    if (blink) {\n        blinkElement = document.createElement('span');\n        blinkElement.classList.add('arwes-text__blink');\n        blinkElement.innerHTML = '&#9614;';\n        Object.assign(blinkElement.style, {\n            position: 'relative',\n            display: 'inline-block',\n            width: 0,\n            height: 0,\n            lineHeight: '0',\n            color: 'inherit'\n        });\n    }\n    const textNodes = [];\n    const texts = [];\n    walkTextNodes(cloneElement, (child) => {\n        textNodes.push(child);\n        texts.push(child.textContent || '');\n        if (isEntering) {\n            child.textContent = '';\n        }\n    });\n    const length = texts.join('').length;\n    rootElement.appendChild(cloneElement);\n    contentElement.style.visibility = 'hidden';\n    if (blink && blinkElement) {\n        const blinkAnimationEaseColor = easeAmong([0, 1, 2]);\n        const blinkAnimationColors = ['transparent', 'inherit', 'transparent'];\n        blinkAnimation = createAnimation({\n            duration: blinkDuration,\n            easing: 'linear',\n            repeat: Infinity,\n            onUpdate(progress) {\n                const index = Math.round(blinkAnimationEaseColor(progress));\n                blinkElement.style.color = blinkAnimationColors[index];\n            }\n        });\n    }\n    return createAnimation({\n        duration,\n        easing,\n        direction: isEntering ? 'normal' : 'reverse',\n        onUpdate: (progress) => {\n            const newLength = Math.round(progress * length);\n            setTextNodesContent(textNodes, texts, newLength, (textNode) => {\n                if (blinkElement &&\n                    textNode.parentNode &&\n                    textNode.parentNode !== blinkElement.parentNode) {\n                    textNode.parentNode.appendChild(blinkElement);\n                }\n            });\n        },\n        onFinish: () => {\n            contentElement.style.visibility =\n                (isEntering && hideOnEntered) || (!isEntering && hideOnExited) ? 'hidden' : '';\n            cloneElement.remove();\n            blinkAnimation?.cancel();\n        },\n        onCancel: () => {\n            contentElement.style.visibility = '';\n            cloneElement.remove();\n            blinkAnimation?.cancel();\n        }\n    });\n};\nexport { animateTextSequence };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}