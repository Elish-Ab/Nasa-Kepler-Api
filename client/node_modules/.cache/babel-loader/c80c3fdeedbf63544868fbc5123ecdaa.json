{"ast":null,"code":"import { animate, timeline, stagger, spring, glide } from 'motion';\nimport { filterProps } from '@arwes/tools';\nimport { applyAnimatedCSSProps } from '../applyAnimatedCSSProps/index.js';\nimport { easing } from '../easing/index.js';\nconst createAnimatedXElement = props => {\n  const {\n    element\n  } = props;\n  const getSettings = () => ({\n    hideOnStates: [],\n    renderInitials: true,\n    ...filterProps(props.settingsRef.current)\n  });\n  let stateLastExecuted = props.settingsRef.current.state;\n  const animations = new Set();\n  const settingsInitial = getSettings();\n  if (settingsInitial.renderInitials) {\n    const {\n      animated\n    } = settingsInitial;\n    const animatedListReceived = Array.isArray(animated) ? animated : [animated];\n    const animatedList = animatedListReceived.filter(Boolean);\n    const initialAttributes = animatedList.map(item => item?.initialAttributes).reduce((total, item) => ({\n      ...total,\n      ...item\n    }), {});\n    Object.keys(initialAttributes).forEach(attribute => {\n      element.setAttribute(attribute, initialAttributes[attribute]);\n    });\n    const dynamicStyles = animatedList.map(item => item?.initialStyle).reduce((total, item) => ({\n      ...total,\n      ...item\n    }), {});\n    applyAnimatedCSSProps(element, dynamicStyles);\n  }\n  const runAnimations = () => {\n    const {\n      state,\n      animated,\n      hideOnStates\n    } = getSettings();\n    stateLastExecuted = state;\n    const animatedListReceived = Array.isArray(animated) ? animated : [animated];\n    const animatedList = animatedListReceived.filter(Boolean);\n    element.style.visibility = hideOnStates?.includes(state) ? 'hidden' : '';\n    const $ = query => Array.from(element.querySelectorAll(query));\n    animatedList.map(settingsItem => settingsItem.transitions?.[state]).filter(Boolean).forEach(transition => {\n      if (typeof transition === 'function') {\n        const animation = transition({\n          element,\n          $,\n          easing,\n          animate,\n          timeline,\n          stagger,\n          spring,\n          glide\n        });\n        if (animation) {\n          animations.add(animation);\n          if (animation.then) {\n            void animation.then(() => {\n              animations.delete(animation);\n            });\n          } else if (animation.finished) {\n            void animation.finished.then(() => {\n              animations.delete(animation);\n            });\n          }\n        }\n      } else {\n        const {\n          duration,\n          delay,\n          easing: ease,\n          repeat,\n          direction,\n          options,\n          ...definition\n        } = transition;\n        if (Number.isFinite(duration) && duration <= 0) {\n          throw new Error('ARWES createAnimatedXElement() animation duration must be greater than 0.');\n        }\n        try {\n          const animation = animate(element, definition, {\n            duration,\n            delay,\n            easing: typeof ease === 'string' ? easing[ease] : ease,\n            repeat,\n            direction,\n            ...options\n          });\n          animations.add(animation);\n          void animation.finished.then(() => {\n            animations.delete(animation);\n          });\n        } catch (err) {\n          throw new Error(`ARWES createAnimatedXElement() animation error:\\n${String(err)}`);\n        }\n      }\n    });\n  };\n  runAnimations();\n  const refresh = () => {\n    if (stateLastExecuted !== props.settingsRef.current.state) {\n      runAnimations();\n    }\n  };\n  const cancel = () => {\n    animations.forEach(animation => animation.cancel());\n    animations.clear();\n  };\n  return Object.freeze({\n    refresh,\n    cancel\n  });\n};\nexport { createAnimatedXElement };","map":{"version":3,"names":["animate","timeline","stagger","spring","glide","filterProps","applyAnimatedCSSProps","easing","createAnimatedXElement","props","element","getSettings","hideOnStates","renderInitials","settingsRef","current","stateLastExecuted","state","animations","Set","settingsInitial","animated","animatedListReceived","Array","isArray","animatedList","filter","Boolean","initialAttributes","map","item","reduce","total","Object","keys","forEach","attribute","setAttribute","dynamicStyles","initialStyle","runAnimations","style","visibility","includes","$","query","from","querySelectorAll","settingsItem","transitions","transition","animation","add","then","delete","finished","duration","delay","ease","repeat","direction","options","definition","Number","isFinite","Error","err","String","refresh","cancel","clear","freeze"],"sources":["/home/elisha-a/Nasa/client/node_modules/@arwes/animated/build/esm/createAnimatedXElement/createAnimatedXElement.js"],"sourcesContent":["import { animate, timeline, stagger, spring, glide } from 'motion';\nimport { filterProps } from '@arwes/tools';\nimport { applyAnimatedCSSProps } from '../applyAnimatedCSSProps/index.js';\nimport { easing } from '../easing/index.js';\nconst createAnimatedXElement = (props) => {\n    const { element } = props;\n    const getSettings = () => ({\n        hideOnStates: [],\n        renderInitials: true,\n        ...filterProps(props.settingsRef.current)\n    });\n    let stateLastExecuted = props.settingsRef.current.state;\n    const animations = new Set();\n    const settingsInitial = getSettings();\n    if (settingsInitial.renderInitials) {\n        const { animated } = settingsInitial;\n        const animatedListReceived = Array.isArray(animated) ? animated : [animated];\n        const animatedList = animatedListReceived.filter(Boolean);\n        const initialAttributes = animatedList\n            .map((item) => item?.initialAttributes)\n            .reduce((total, item) => ({ ...total, ...item }), {});\n        Object.keys(initialAttributes).forEach((attribute) => {\n            element.setAttribute(attribute, initialAttributes[attribute]);\n        });\n        const dynamicStyles = animatedList\n            .map((item) => item?.initialStyle)\n            .reduce((total, item) => ({ ...total, ...item }), {});\n        applyAnimatedCSSProps(element, dynamicStyles);\n    }\n    const runAnimations = () => {\n        const { state, animated, hideOnStates } = getSettings();\n        stateLastExecuted = state;\n        const animatedListReceived = Array.isArray(animated) ? animated : [animated];\n        const animatedList = animatedListReceived.filter(Boolean);\n        element.style.visibility = hideOnStates?.includes(state) ? 'hidden' : '';\n        const $ = (query) => Array.from(element.querySelectorAll(query));\n        animatedList\n            .map((settingsItem) => settingsItem.transitions?.[state])\n            .filter(Boolean)\n            .forEach((transition) => {\n            if (typeof transition === 'function') {\n                const animation = transition({\n                    element,\n                    $,\n                    easing,\n                    animate,\n                    timeline,\n                    stagger,\n                    spring,\n                    glide\n                });\n                if (animation) {\n                    animations.add(animation);\n                    if (animation.then) {\n                        void animation.then(() => {\n                            animations.delete(animation);\n                        });\n                    }\n                    else if (animation.finished) {\n                        void animation.finished.then(() => {\n                            animations.delete(animation);\n                        });\n                    }\n                }\n            }\n            else {\n                const { duration, delay, easing: ease, repeat, direction, options, ...definition } = transition;\n                if (Number.isFinite(duration) && duration <= 0) {\n                    throw new Error('ARWES createAnimatedXElement() animation duration must be greater than 0.');\n                }\n                try {\n                    const animation = animate(element, definition, {\n                        duration,\n                        delay,\n                        easing: typeof ease === 'string' ? easing[ease] : ease,\n                        repeat,\n                        direction,\n                        ...options\n                    });\n                    animations.add(animation);\n                    void animation.finished.then(() => {\n                        animations.delete(animation);\n                    });\n                }\n                catch (err) {\n                    throw new Error(`ARWES createAnimatedXElement() animation error:\\n${String(err)}`);\n                }\n            }\n        });\n    };\n    runAnimations();\n    const refresh = () => {\n        if (stateLastExecuted !== props.settingsRef.current.state) {\n            runAnimations();\n        }\n    };\n    const cancel = () => {\n        animations.forEach((animation) => animation.cancel());\n        animations.clear();\n    };\n    return Object.freeze({ refresh, cancel });\n};\nexport { createAnimatedXElement };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}