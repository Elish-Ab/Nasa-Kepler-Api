{"ast":null,"code":"import { easing } from '../easing/index.js';\nconst createAnimation = props => {\n  if (props.duration !== undefined && props.duration < 0) {\n    throw new Error('Arwes createAnimation() does not support negative durations.');\n  }\n  const {\n    duration: durationProvided,\n    easing: easingName = 'outSine',\n    direction = 'normal',\n    repeat = 0,\n    onUpdate,\n    onFinish,\n    onCancel\n  } = props;\n  const ease = typeof easingName === 'function' ? easingName : easing[easingName];\n  const duration = durationProvided * 1000;\n  let currentAnimationFrame = null;\n  let start;\n  let slapsed = 0;\n  let done;\n  let repetitions = 0;\n  const promise = new Promise(resolve => {\n    done = resolve;\n  });\n  const then = callback => promise.then(callback);\n  const nextAnimation = timestamp => {\n    if (!start) {\n      start = timestamp;\n    }\n    slapsed = Math.max(timestamp - start, 0);\n    const progress = ease(duration === 0 ? 1 : Math.min(1, Math.max(0, slapsed / duration)));\n    onUpdate(direction === 'normal' ? progress : 1 - progress);\n    let continueAnimation = duration > 0 && slapsed < duration;\n    if (!continueAnimation && repeat > 0 && repetitions < repeat) {\n      start = timestamp;\n      continueAnimation = true;\n      repetitions++;\n    }\n    if (continueAnimation) {\n      currentAnimationFrame = window.requestAnimationFrame(nextAnimation);\n    } else {\n      currentAnimationFrame = null;\n      onFinish?.();\n      done();\n    }\n  };\n  const isPending = () => {\n    return currentAnimationFrame !== null;\n  };\n  const cancel = () => {\n    if (currentAnimationFrame !== null) {\n      window.cancelAnimationFrame(currentAnimationFrame);\n      currentAnimationFrame = null;\n      onCancel?.();\n      done();\n    }\n  };\n  const complete = () => {\n    if (currentAnimationFrame !== null) {\n      window.cancelAnimationFrame(currentAnimationFrame);\n      currentAnimationFrame = null;\n      onUpdate(ease(direction === 'reverse' ? 0 : 1));\n      onFinish?.();\n      done();\n    }\n  };\n  currentAnimationFrame = window.requestAnimationFrame(nextAnimation);\n  return Object.freeze({\n    then,\n    isPending,\n    cancel,\n    complete\n  });\n};\nexport { createAnimation };","map":{"version":3,"names":["easing","createAnimation","props","duration","undefined","Error","durationProvided","easingName","direction","repeat","onUpdate","onFinish","onCancel","ease","currentAnimationFrame","start","slapsed","done","repetitions","promise","Promise","resolve","then","callback","nextAnimation","timestamp","Math","max","progress","min","continueAnimation","window","requestAnimationFrame","isPending","cancel","cancelAnimationFrame","complete","Object","freeze"],"sources":["/home/elisha-a/Nasa/client/node_modules/@arwes/animated/build/esm/createAnimation/createAnimation.js"],"sourcesContent":["import { easing } from '../easing/index.js';\nconst createAnimation = (props) => {\n    if (props.duration !== undefined && props.duration < 0) {\n        throw new Error('Arwes createAnimation() does not support negative durations.');\n    }\n    const { duration: durationProvided, easing: easingName = 'outSine', direction = 'normal', repeat = 0, onUpdate, onFinish, onCancel } = props;\n    const ease = typeof easingName === 'function' ? easingName : easing[easingName];\n    const duration = durationProvided * 1000;\n    let currentAnimationFrame = null;\n    let start;\n    let slapsed = 0;\n    let done;\n    let repetitions = 0;\n    const promise = new Promise((resolve) => {\n        done = resolve;\n    });\n    const then = (callback) => promise.then(callback);\n    const nextAnimation = (timestamp) => {\n        if (!start) {\n            start = timestamp;\n        }\n        slapsed = Math.max(timestamp - start, 0);\n        const progress = ease(duration === 0 ? 1 : Math.min(1, Math.max(0, slapsed / duration)));\n        onUpdate(direction === 'normal' ? progress : 1 - progress);\n        let continueAnimation = duration > 0 && slapsed < duration;\n        if (!continueAnimation && repeat > 0 && repetitions < repeat) {\n            start = timestamp;\n            continueAnimation = true;\n            repetitions++;\n        }\n        if (continueAnimation) {\n            currentAnimationFrame = window.requestAnimationFrame(nextAnimation);\n        }\n        else {\n            currentAnimationFrame = null;\n            onFinish?.();\n            done();\n        }\n    };\n    const isPending = () => {\n        return currentAnimationFrame !== null;\n    };\n    const cancel = () => {\n        if (currentAnimationFrame !== null) {\n            window.cancelAnimationFrame(currentAnimationFrame);\n            currentAnimationFrame = null;\n            onCancel?.();\n            done();\n        }\n    };\n    const complete = () => {\n        if (currentAnimationFrame !== null) {\n            window.cancelAnimationFrame(currentAnimationFrame);\n            currentAnimationFrame = null;\n            onUpdate(ease(direction === 'reverse' ? 0 : 1));\n            onFinish?.();\n            done();\n        }\n    };\n    currentAnimationFrame = window.requestAnimationFrame(nextAnimation);\n    return Object.freeze({ then, isPending, cancel, complete });\n};\nexport { createAnimation };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}